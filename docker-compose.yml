version: '3.8'

services:
  calculator-agent:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: calculator-agent
    environment:
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - GEMINI_MODEL=${GEMINI_MODEL:-gemini-2.5-flash}
      - RATE_LIMIT_CALLS_PER_MINUTE=${RATE_LIMIT_CALLS_PER_MINUTE:-60}
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    volumes:
      - ./cache:/app/cache
      - ./logs:/app/logs
    restart: unless-stopped
    stdin_open: true
    tty: true
    networks:
      - calculator-network

networks:
  calculator-network:
    driver: bridge

